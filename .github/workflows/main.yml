name: Notify Telegram on Push

on:
  # List of GitHub events to listen for
  push:
    branches:
      - main
      - release/* # Monitors all branches for push events
  pull_request:
    branches:
      - main
    types: [opened, reopened, closed, merged] # Monitors pull requests
  issues:
    types: [opened, reopened, closed] # Monitors issues
  workflow_run:
    workflows: ["Notify Telegram on Actions"]
    types: [requested, completed] # Monitors this workflow's runs
  release:
    types: [published] # Monitors published releases

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Send Telegram Notification
        env:
          TELEGRAM_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
          TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_TO }}
        run: |
          curl -s -X POST https://api.telegram.org/bot${{ env.TELEGRAM_TOKEN }}/sendMessage \
          -d chat_id=${{ env.TELEGRAM_CHAT_ID }} \
          -d text="ğŸš€ á¢á”á¢ášáŸá¶á‘áš! á›áŸ„á€ ${{ github.actor }} á‚á¶ááŸ‹á”á¶á“ push á‘áŸ…á€áŸ’á“á»á„ repository ğŸ—„ï¸: ${{ github.repository }} á“á·á„á”á¶á“áŸášáŸáŸáš commit áá¶ ğŸ“œ: \"${{ github.event.head_commit.message }}\" ğŸ¤¯ á€áŸ†á–á»á„ááŸ‚á…á¶áŸ†á˜á¾á›á‘áŸ€á ğŸ¤"
